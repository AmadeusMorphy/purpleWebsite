<header class="stickyHeader" [ngClass]="{'hidden': isHidden}">
  <p-menubar [model]="items">
    <ng-template pTemplate="start">
      <p-sidebar [(visible)]="display">
        <p-panelMenu [model]="sideItems" [style]="{'width':'300px'}"></p-panelMenu>
      </p-sidebar>
      <!-- <img class="logo" src="https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png" shape="circle" /> -->
      <ng-template pTemplate="end" let-item let-root="root">
        <a pRipple class="flex align-items-center p-menuitem-link">
          <span [class]="item.icon"></span>
          <span class="ml-2">{{ item.label }}</span>
          <p-badge *ngIf="item.badge" [ngClass]="{ 'ml-auto': !root, 'ml-2': root }" [value]="item.badge" />
          <span *ngIf="item.shortcut" class="ml-auto border-1 surface-border border-round surface-100 text-xs p-1">
            {{ item.shortcut}}
          </span>
        </a>
      </ng-template>
    </ng-template>


    <div *ngIf="isLoading" class="loading">
      <div class="cssload-main">
        <div class="cssload-heart">
          <span class="cssload-heartL"></span>
          <span class="cssload-heartR"></span>
          <span class="cssload-square"></span>
        </div>
        <div class="cssload-shadow"></div>
      </div>
    </div>

    <ng-template pTemplate="end">

      <div class="flex align-items-center">
        <h2 *ngIf="this.userLoggedIn">{{this.userName}}</h2>

        <div class="profile">

          <p-menu #menu [model]="sideItems" [popup]="true" />
          <p-avatar (click)="menu.toggle($event)" icon="pi pi-user" styleClass="mr-2" size="large" shape="circle" />
        </div>
      </div>
    </ng-template>
  </p-menubar>


</header>



<p-sidebar [(visible)]="showLoginDialog" [fullScreen]="true" (onShow)="toggleBodyScroll()"
  (onHide)="toggleBodyScroll()">
  <div *ngIf="isLoading" class="loading">
    <p-progressSpinner styleClass="w-4rem h-4rem" strokeWidth="8" fill="var(--surface-ground)"
      animationDuration=".5s" />
  </div>
  <div class="loginContainer">
    <div class="loginItems">
      <h2 class="loginTitle">Log In</h2>
      <form [formGroup]="signInForm" (ngSubmit)="login()">
        <div class="loginInputs">
          <input type="email" pInputText formControlName="email" placeholder="Email" class="responsiveInput" />
          <input type="password" pInputText formControlName="password" placeholder="Password" class="responsiveInput" />
        </div>
        <p-button type="submit" [disabled]="!signInForm.valid">Log In</p-button>
      </form>
    </div>
  </div>
</p-sidebar>
<p-sidebar [(visible)]="showSignUpDialog" [fullScreen]="true" (onShow)="toggleBodyScroll()"
  (onHide)="toggleBodyScroll()">
  <div *ngIf="isLoading" class="loading">
    <p-progressSpinner styleClass="w-4rem h-4rem" strokeWidth="8" fill="var(--surface-ground)"
      animationDuration=".5s" />
  </div>
  <div class="loginContainer">
    <div class="loginItems">
      <h2 class="loginTitle">Sign Up</h2>
      <form [formGroup]="signUpForm" (ngSubmit)="onSignUp()">
        <div class="loginInputs">
          <input type="text" pInputText formControlName="name" placeholder="Username" class="responsiveInput" />
          <input type="email" pInputText formControlName="email" placeholder="Email" class="responsiveInput" />
          <input type="password" pInputText formControlName="password" placeholder="Password" class="responsiveInput" />
        </div>
        <p-button type="submit" [disabled]="!signUpForm.valid">Log In</p-button>
      </form>
    </div>
  </div>
</p-sidebar>


<router-outlet></router-outlet>